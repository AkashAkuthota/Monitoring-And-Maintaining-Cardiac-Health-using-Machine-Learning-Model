<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result: Heart disease diagnosis</title>
    <link rel="stylesheet" href="/static/style/result.css">
</head>

<body>
<div class="topnav">
    <a class="active" href="/"> <span> Home </span></a>
    <div class="heading">Heart Disease Diagnosis</div>
</div>

<div class="information">
<div class="info">

<div class="title">The following information was provided by you:</div>

<table>
<tr>
    <th>Question</th>
    <th>Answer</th>
</tr>

<tr>
    <td>Age</td>
    <td>{{ results.age }}</td>
</tr>

<tr>
    <td>Sex</td>
    <td>
        {% if results.gender == '0' %}
            Female
        {% else %}
            Male
        {% endif %}
    </td>
</tr>

<tr>
    <td>Chest Pain Type</td>
    <td>
        {% if results['chest-pain-type'] == '1' %}
            Typical Angina
        {% elif results['chest-pain-type'] == '2' %}
            Atypical Angina
        {% elif results['chest-pain-type'] == '3' %}
            Non-anginal Pain
        {% else %}
            Asymptomatic
        {% endif %}
    </td>
</tr>

<tr>
    <td>Exercise Induced Angina</td>
    <td>
        {% if results['induced-agina'] == '1' %}
            Yes
        {% else %}
            No
        {% endif %}
    </td>
</tr>

<tr>
    <td>Fasting Blood Sugar &gt; 120 mg/dl</td>
    <td>
        {% if results['fasting-blood-sugar'] == '1' %}
            Yes
        {% else %}
            No
        {% endif %}
    </td>
</tr>

<tr>
    <td>Resting Blood Pressure (mm Hg)</td>
    <td>{{ results['resting-blood-pressure'] }}</td>
</tr>

<tr>
    <td>ST Segment Slope</td>
    <td>
        {% if results['peak-exercise-st'] == '1' %}
            Up Sloping
        {% elif results['peak-exercise-st'] == '2' %}
            Flat
        {% else %}
            Down Sloping
        {% endif %}
    </td>
</tr>

<tr>
    <td>ST Depression (Oldpeak)</td>
    <td>{{ results['st-depressed-value'] }}</td>
</tr>

<tr>
    <td>Maximum Heart Rate Achieved</td>
    <td>{{ results['heart-rate-value'] }}</td>
</tr>

<tr>
    <td>Serum Cholesterol (mg/dl)</td>
    <td>{{ results['serum-cholestrol-value'] }}</td>
</tr>

<tr>
    <td>Resting ECG</td>
    <td>
        {% if results['resting-ecg'] == '0' %}
            Normal
        {% elif results['resting-ecg'] == '1' %}
            ST-T Wave Abnormality
        {% else %}
            Left Ventricular Hypertrophy
        {% endif %}
    </td>
</tr>

</table>
</div>

<!-- ===== Prediction Rings (UNCHANGED STRUCTURE) ===== -->
<div class="prediction">

<div class="predict">
{% if results['prediction']==0 %}
<div class="flex-wrapper">
<div class="single-chart">
<svg viewBox="0 0 36 36" class="circular-chart orange">
<path class="circle-bg"
d="M18 2.0845
a 15.9155 15.9155 0 0 1 0 31.831
a 15.9155 15.9155 0 0 1 0 -31.831"/>
<path class="circle"
stroke-dasharray="100, 100"
d="M18 2.0845
a 15.9155 15.9155 0 0 1 0 31.831
a 15.9155 15.9155 0 0 1 0 -31.831"
style="stroke:#40ec1e"/>
<text x="18" y="20.35" class="percentage">Healthy</text>
</svg>
</div>
</div>
{% else %}
<div class="flex-wrapper">
<div class="single-chart">
<svg viewBox="0 0 36 36" class="circular-chart orange">
<path class="circle-bg"
d="M18 2.0845
a 15.9155 15.9155 0 0 1 0 31.831
a 15.9155 15.9155 0 0 1 0 -31.831"/>
<path class="circle"
stroke-dasharray="100, 100"
d="M18 2.0845
a 15.9155 15.9155 0 0 1 0 31.831
a 15.9155 15.9155 0 0 1 0 -31.831"
style="stroke:#ec1e1e"/>
<text x="18" y="20.35" class="percentage">Risk</text>
</svg>
</div>
</div>
{% endif %}
</div>

<div class="predict-prob">
<div class="flex-wrapper">
<div class="single-chart">
<svg viewBox="0 0 36 36" class="circular-chart orange">
<path class="circle-bg"
d="M18 2.0845
a 15.9155 15.9155 0 0 1 0 31.831
a 15.9155 15.9155 0 0 1 0 -31.831"/>
<path class="circle"
stroke-dasharray="{{results['prediction-prob']}}, 100"
d="M18 2.0845
a 15.9155 15.9155 0 0 1 0 31.831
a 15.9155 15.9155 0 0 1 0 -31.831"
style="stroke:#40ec1e"/>
<text x="18" y="20.35" class="percentage">
{{results['prediction-prob']}}%
</text>
</svg>
</div>
</div>
</div>

</div>
</div>
</body>
</html>
